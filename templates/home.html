{% extends 'base.html' %}
{% load static %}
{% block content %}
<style>

:root {

/**
 * colors
 */


--deep-saffron: hsl(32, 100%, 59%);
--dark-orange: hsl(28, 100%, 58%);
--desert-sand: hsl(23, 49%, 82%);
--isabelline: hsl(38, 44%, 96%);
--gainsboro: hsl(0, 0%, 87%);
--tangerine: hsl(31, 84%, 50%);
--cinnabar: #E4CE39;
--black_95: hsla(0, 0%, 0%, 0.95);

--onyx: hsl(0, 0%, 27%);

/**
 * typography
 */

--section-padding: 60px;

/**
 * shadow
 */

--shadow-1: 0 1px 4px hsla(0, 0%, 0%, 0.2);
--shadow-2: 0 1px 2px #E4CE39;


}


*,
*::before,
*::after {
margin: 0;
padding: 0;
box-sizing: border-box;
}

li { list-style: none; }

a {
text-decoration: none;
color: inherit;
}

a,
img,
span,
input,
button,
ion-icon { display: block; }

/* img { height: auto; } */

button { cursor: pointer; }

ion-icon { pointer-events: none; }

address { font-style: normal; }

html {
font-family: var(--ff-roboto);
font-size: 10px;
scroll-behavior: smooth;
}

body {
/* background-color: var(--white); */
color: var(--sonic-silver);
font-size: 1.6rem;
line-height: 1.6;
overflow-x: hidden;
}

.btn {
background-color: var(--bg-color, #E4CE39);
color: var(--white);
font-family: var(--ff-rubik);
font-size: 20px;
font-weight: var(--fw-500);
height: var(--height, 45px);
padding-inline: var(--padding-inline, 35px);
transition: var(--transition-1);
}

.btn-hover {
position: relative;
overflow: hidden;
z-index: 1;
}

.btn-hover::after {
content: "";
position: absolute;
bottom: -1px;
left: 20px;
width: 1px;
height: 1px;
transform: translate(-50%, 51%) scale(var(--scale, 1));
border-radius: 50%;
background-color: var(--rich-black-fogra-29);
z-index: -1;
transition: var(--transition-2);
}

.btn-hover:is(:hover, :focus)::after { --scale: 500; }

.section { padding-block: var(--section-padding); }



.section-divider { position: relative; }

.section-divider::before,
.section-divider::after {
content: "";
position: absolute;
bottom: 0;
left: 0;
width: 100%;
height: 15px;
background-repeat: repeat no-repeat;
background-position: bottom;
}

.section-divider.white::after { background-image: url("../images/shape-white.png"); }

.section-divider.gray::after { background-image: url("../images/shape-grey.png"); }

.w-100 { width: 100%; }

.has-scrollbar {
display: flex;
gap: 10px;
overflow-x: auto;
scroll-snap-type: inline mandatory;
padding-block-end: 40px;
}

.has-scrollbar::-webkit-scrollbar { height: 12px; }

.has-scrollbar::-webkit-scrollbar-button { width: calc(25% - 100px); }

.has-scrollbar::-webkit-scrollbar-track {
outline: 2px solid #E4CE39;
border-radius: 50px;
}

.has-scrollbar::-webkit-scrollbar-thumb {
border: 3px solid var(--cultured);
border-radius: 50px;
}

.section-title > .span {
  /* scroll */
display: inline-block;
color: #E4CE39;
/* margin-top: 10px; */
}

.abs-img {
position: absolute;
transform: scale(1);
}

.scale-up-anim { animation: scaleUp 1s linear infinite alternate; }


.section-subtitle {
color: var(--cinnabar);
font-family: var(--ff-rubik);
text-align: center;
font-weight: var(--fw-500);
}

.badge {
position: absolute;
background: var(--bg-color, var(--cinnabar));
color: var(--white);
font-size: var(--fs-5);
font-weight: var(--fw-600);
padding: var(--padding-block, 2px) 15px;
}

.rating-wrapper {
display: flex;
gap: 5px;
color: var(--deep-saffron);
}
.food-menu {

text-align: center;
}

.food-menu .section-title { margin-block: 10px 20px; }

.food-menu .section-text {
max-width: 44ch;
margin-inline: auto;
margin-block-end: 30px;
}

.fiter-list {
display: flex;
flex-wrap: wrap;
justify-content: center;
gap: 10px;
margin-block-end: 40px;
}

.filter-btn {
background-color: var(--white);
color: var(--color, var(--rich-black-fogra-29));
font-family: var(--ff-rubik);
font-weight: var(--fw-500);
padding: 5px 20px;
border: 1px solid var(--border-color, var(--cultured));
}

.filter-btn.active {
background-color: var(--deep-saffron);
--color: var(--white);
--border-color: var(--deep-saffron);
}

.food-menu-list {
display: grid;
gap: 30px;
}

.food-menu-card {
/* background-color: var(--white); */
padding: 40px;
box-shadow: var(--shadow-2);
border: 1px solid #E4CE39;
}

.food-menu-card:focus-within { outline: 1px auto -webkit-focus-ring-color; }

.food-menu-card .card-banner {
position: relative;
/* padding-block-start: 30px; */
max-width: max-content;
aspect-ratio: 1 / 1;
margin-inline: auto;
}

.food-menu-card .badge {
top: 0;
left: 0;
}

.food-menu-btn {
position: absolute;
top: calc(50% + 15px);
left: 50%;
transform: translate(-50%, 0);
min-width: max-content;
--bg-color: var(--cinnabar);
width: 60%;
--height: 40px;
--padding-inline: 20px;
opacity: 0;
transition: var(--transition-2);
}

.food-menu-btn:is(:hover, :focus) { --bg-color: white;border: 1px solid #E4CE39; }

.food-menu-card:is(:hover, :focus-within) .food-menu-btn {
transform: translate(-50%, -50%);
opacity: 1;
}

.food-menu-card .wrapper {
display: flex;
justify-content: center;
align-items: center;
gap: 15px;
margin-block: 20px 10px;
}

.food-menu-card .category {
font-family: var(--ff-rubik);
font-weight: var(--fw-500);
}

.food-menu-card .rating-wrapper { font-size: 1.4rem; }

.food-menu-card .card-title { margin-block-end: 10px; }

.food-menu-card .price-wrapper {
display: flex;
justify-content: center;
gap: 5px;
font-family: var(--ff-rubik);
font-weight: var(--fw-600);
}
.food-menu-card .price-text {
color: var(--cinnabar);
text-transform: uppercase;
padding-inline-end: 5px;
}

.food-menu-card .price { color: var(--deep-saffron); }
.food-menu-card .del { color: var(--gray-x-11-gray); }
@media (min-width: 768px) {
.food-menu-list { grid-template-columns: 1fr 1fr; }
.food-menu-card :is(.wrapper, .price-wrapper) { justify-content: flex-start; }
.food-menu-card .card-title { text-align: left; }
}
@media (min-width: 992px) {
.food-menu-list { grid-template-columns: repeat(4, 1fr); }
.food-menu-card { height: 100%; }
}


  </style>
  <center>
   {% if messages %}
   <ul>
       {% for message in messages %}
           <li style="color: white;font-size: 22px;">{{ message }}</li>
       {% endfor %}
   </ul>
{% endif %}
</center>
  {% for enrollment in enrolled_courses %}
  <li>{{ enrollment.course.name }}
      <form method="post" action="{% url 'leave_course' enrollment.course.id %}">
          {% csrf_token %}
          <button type="submit">Leave Course</button>
      </form>
  </li>
{% endfor %}
     <section class="section food-menu" id="food-menu">
      <div class="container" style="max-width: 1800px;">
          <h2 style="color: white; font-size: 35px; letter-spacing: 2px;">Our Popular Courses</h2>
            
          <ul class="food-menu-list" style="margin-top: 50px;">
              {% for course in courses %}
              <li>
                  <div class="food-menu-card">
                      <div class="card-banner">
                          <img src="{{ course.image.url }}" width="400" height="400" loading="lazy" alt="Course Image" class="w-100" style="object-fit: fill;">
                          <form method="post" action="{% url 'enroll_course' course.id %}">
                              {% csrf_token %}
                              <button type="submit" class="btn food-menu-btn">Enroll Now</button>
                          </form>
                      </div>
            
                      <div class="wrapper">
                          <h2 class="category mt-5" style="color: white; font-size: 30px; font-weight: bold; display: block;">{{ course.name }}</h2>
                          <div class="rating-wrapper">
                              <ion-icon name="star"></ion-icon>
                              <ion-icon name="star"></ion-icon>
                              <ion-icon name="star"></ion-icon>
                              <ion-icon name="star"></ion-icon>
                              <ion-icon name="star"></ion-icon>
                          </div>
                      </div>
            
                      <div class="price-wrapper">
                          <h2 class="price-text" style="color: #E4CE39;">Instructor:</h2>
                          <h2 style="color: white;">{{ course.teacher }}</h2>
                      </div>
                      <div class="price-wrapper">
                          <h2 class="price-text" style="color: #E4CE39;">Duration:</h2>
                          <h3 style="color: white;">{{ course.start_date|date:"M d, Y" }} - {{ course.end_date|date:"M d, Y" }}</h3>
                      </div>
                  </div>
              </li>
              {% endfor %}
          </ul>
          
          <!-- Pagination Links -->
          <div class="pagination">
              {% if page_obj.has_previous %}
                  <a href="?page=1">First</a>
                  <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
              {% endif %}
              
              <span class="current">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
              
              {% if page_obj.has_next %}
                  <a href="?page={{ page_obj.next_page_number }}">Next</a>
                  <a href="?page={{ page_obj.paginator.num_pages }}">Last</a>
              {% endif %}
          </div>
      </div>
  </section>
  










<!-- Add the section for displaying teachers -->
<div class="container" style="padding: 10px; max-width: 1800px">
  <h1 style="color: white;justify-content: center;text-align: center;font-size: 35px;letter-spacing: 2px;">Our Instructors</h1>
  <div class="blog-container has-scrollbar" style="margin-top: 50px;">
      {% for teacher in teachers %}
      <div class="blog-card ml-5">
          {% if teacher.profile_image %}
          <img src="{{ teacher.profile_image.url }}" class="card-img-top" alt="Profile Image" width="300px" height="400px" style="object-fit: fill;">
          {% else %}
          <p>No profile image available</p>
          {% endif %}
        
          <div class="card-body">
              <h5 class="card-title" style="color: white;font-size: 25px;">{{ teacher.first_name }}{{ teacher.last_name }}</h5> 
          </div>
          <a href="#" class="btn" style="background-color: #E4CE39;">Read More</a>
      </div>
      {% endfor %}
  </div>
</div>



<!-- jQuery and Bootstrap JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</body>
</html>

{% endblock content %}